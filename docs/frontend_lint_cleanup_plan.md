# Frontend ESLint Cleanup Plan

## Цель
Избавиться от `any`, неиспользуемых переменных и устаревших конструкций, чтобы `npm run lint` проходил без ошибок и предупреждений.

## Текущие наблюдения
- Бóльшая часть ошибок лежит в компонентах выборок образцов (`AddSampleForm`, `EditSampleForm`, `SampleCharacteristics`, автокомплиты), а также в сервисах (`api.ts`, shared hooks/services).
- Многочисленные `any` используются для ответов API и обработчиков форм.
- В `BaseApiClient` и связанных тестах типы уже приведены в порядок — можно использовать их как пример.

## Практические шаги
1. **Обновить типы данных**
   - Расширить `frontend/src/types/index.ts` и `frontend/src/shared/types/**`, чтобы покрыть все поля, которые сейчас приводятся к `any`.
   - Для динамических структур (характеристики, справочники) создать отдельные интерфейсы (`SampleCharacteristicsUpdate`, `ReferenceDictionary` и т. д.).

2. **Компоненты форм**
   - `EditSampleForm`, `AddSampleForm`, `CreateStrainForm` — типизировать состояние форм, загрузку справочников и обработчики `onChange` без `any`.
   - Переписать обработку характеристик через общие типы.

3. **Автокомплиты и панели**
   - `StorageAutocomplete`, `StrainAutocomplete`, `SourceAutocomplete`, `BulkOperationsPanel` — ввести типы для опций (`ReferenceOption`), значений и API-ответов.

4. **Shared слои**
   - `shared/hooks/useApiError` и соответствующие тесты — заменить `any` на `ApiErrorType`/`ApiErrorDetails`.
   - `shared/services/api.ts` — пройти по каждому методу, вернуть точные интерфейсы ответов, исключить `any`.

5. **Поэтапный прогон ESLint**
   - После каждого блока запускать `npm run lint`. Если остаются повторяющиеся ошибки, зафиксировать их в этом плане и двигаться дальше.

6. **Логи и заглушки**
   - Удалить отладочные `console.log`, заменив на строгие проверки/обработчики.

## Финальный контроль
- `npm run lint` — должен проходить без ошибок/предупреждений.
- `npm test -- --watch=false` — регрессия не допускается.
- Обновить документацию/next-agent заметки о завершении чистки.

