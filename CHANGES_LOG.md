# –ñ—É—Ä–Ω–∞–ª –∏–∑–º–µ–Ω–µ–Ω–∏–π - –î–æ—Ä–∞–±–æ—Ç–∫–∏ –ø–æ–ª–µ–π –æ–±—Ä–∞–∑—Ü–æ–≤

## –û–±–∑–æ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏–π

–í —Ä–∞–º–∫–∞—Ö –¥–æ—Ä–∞–±–æ—Ç–æ–∫ —Å–∏—Å—Ç–µ–º—ã —É—á–µ—Ç–∞ —à—Ç–∞–º–º–æ–≤ –º–∏–∫—Ä–æ–æ—Ä–≥–∞–Ω–∏–∑–º–æ–≤ –±—ã–ª–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –∑–∞–º–µ—á–∞–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:

## üîÑ –û—Å–Ω–æ–≤–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 1. –ü–æ–ª—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –∏ –ø—Ä–∏–º–µ—á–∞–Ω–∏–π
**–ü—Ä–æ–±–ª–µ–º–∞**: –ü–æ–ª—è "–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π" –∏ "–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ" –±—ã–ª–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∫–∞–∫ –≤—ã–ø–∞–¥–∞—é—â–∏–µ —Å–ø–∏—Å–∫–∏ —Å –ø—Ä–µ–¥–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º–∏ –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏.

**–†–µ—à–µ–Ω–∏–µ**:
- –ó–∞–º–µ–Ω–µ–Ω—ã –Ω–∞ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –ø–æ–ª—è –¥–ª—è –≤–≤–æ–¥–∞ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞
- –î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ –ø–æ–ª—è `comment_text` –∏ `appendix_note_text` –≤ –º–æ–¥–µ–ª—å Sample
- –°—Ç–∞—Ä—ã–µ –ø–æ–ª—è `comment_id` –∏ `appendix_note_id` —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
- –û–±–Ω–æ–≤–ª–µ–Ω—ã —Ñ–æ—Ä–º—ã —Å–æ–∑–¥–∞–Ω–∏—è –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –æ–±—Ä–∞–∑—Ü–æ–≤

### 2. –ù–æ–≤—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –æ–±—Ä–∞–∑—Ü–æ–≤
–î–æ–±–∞–≤–ª–µ–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –±—É–ª–µ–≤—ã–µ –ø–æ–ª—è –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫:
- `mobilizes_phosphates` - –ú–æ–±–∏–ª–∏–∑—É–µ—Ç —Ñ–æ—Å—Ñ–∞—Ç—ã
- `stains_medium` - –û–∫—Ä–∞—à–∏–≤–∞–µ—Ç —Å—Ä–µ–¥—É
- `produces_siderophores` - –í—ã—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–∏–¥–µ—Ä–æ—Ñ–æ—Ä—ã
- `produces_iuk` - –í—ã—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ò–£–ö
- `produces_amylase` - –í—ã—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∞–º–∏–ª–∞–∑—É

### 3. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –¥–ª—è —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫
- `iuk_color` - –¶–≤–µ—Ç –æ–∫—Ä–∞—Å–∫–∏ –ò–£–ö (—Ç–µ–∫—Å—Ç–æ–≤–æ–µ –ø–æ–ª–µ)
- `amylase_variant` - –í–∞—Ä–∏–∞–Ω—Ç –∞–º–∏–ª–∞–∑—ã (—Ç–µ–∫—Å—Ç–æ–≤–æ–µ –ø–æ–ª–µ)
- `growth_media_ids` - –°—Ä–µ–¥—ã —Ä–æ—Å—Ç–∞ (—Å–≤—è–∑—å –º–Ω–æ–≥–∏–µ-–∫–æ-–º–Ω–æ–≥–∏–º)

### 4. –°–∏—Å—Ç–µ–º–∞ —Å—Ä–µ–¥ —Ä–æ—Å—Ç–∞
**–ù–æ–≤–∞—è –º–æ–¥–µ–ª—å**: `GrowthMedium`
- –ü–æ–ª—è: `name`, `description`
- –£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –Ω–∞–∑–≤–∞–Ω–∏—è
- CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ API
- –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –≤—ã–±–æ—Ä –≤ —Ñ–æ—Ä–º–∞—Ö

## üìã API –∏–∑–º–µ–Ω–µ–Ω–∏—è

### –ù–æ–≤—ã–µ endpoints –¥–ª—è —Å—Ä–µ–¥ —Ä–æ—Å—Ç–∞:
- `GET /api/reference-data/growth-media/` - –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞
- `POST /api/reference-data/growth-media/create/` - –°–æ–∑–¥–∞–Ω–∏–µ
- `PUT /api/reference-data/growth-media/{id}/update/` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ
- `DELETE /api/reference-data/growth-media/{id}/delete/` - –£–¥–∞–ª–µ–Ω–∏–µ

### –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ endpoints:
- `POST /api/samples/create/` - –î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ –ø–æ–ª—è
- `PUT /api/samples/{id}/update/` - –î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ –ø–æ–ª—è
- `GET /api/samples/{id}/` - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤—ã–µ –ø–æ–ª—è
- `GET /api/reference-data/` - –í–∫–ª—é—á–∞–µ—Ç growth_media

## üé® Frontend –∏–∑–º–µ–Ω–µ–Ω–∏—è

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
1. **AddSampleForm.tsx**:
   - –ó–∞–º–µ–Ω–µ–Ω—ã select –Ω–∞ textarea –¥–ª—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
   - –î–æ–±–∞–≤–ª–µ–Ω—ã —á–µ–∫–±–æ–∫—Å—ã –¥–ª—è –Ω–æ–≤—ã—Ö —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫
   - –î–æ–±–∞–≤–ª–µ–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç GrowthMediaSelector
   - –£—Å–ª–æ–≤–Ω—ã–µ –ø–æ–ª—è –¥–ª—è —Ü–≤–µ—Ç–∞ –ò–£–ö –∏ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –∞–º–∏–ª–∞–∑—ã

2. **–¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö** (types/index.ts):
   - –û–±–Ω–æ–≤–ª–µ–Ω—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã Sample, CreateSampleData, UpdateSampleData
   - –î–æ–±–∞–≤–ª–µ–Ω ReferenceGrowthMedium
   - –û–±–Ω–æ–≤–ª–µ–Ω ReferenceData

### –ù–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç: GrowthMediaSelector
- –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –≤—ã–±–æ—Ä —Å—Ä–µ–¥ —Ä–æ—Å—Ç–∞
- –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∏ –æ–ø–∏—Å–∞–Ω–∏—é
- –¢—ç–≥–∏ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É–¥–∞–ª–µ–Ω–∏—è –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –ù–æ–≤–∞—è –º–∏–≥—Ä–∞—Ü–∏—è: 0007_add_enhanced_sample_fields.py
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –º–æ–¥–µ–ª—å GrowthMedium
- –î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ –ø–æ–ª—è –≤ Sample
- –°–≤—è–∑–∏ –º–Ω–æ–≥–∏–µ-–∫–æ-–º–Ω–æ–≥–∏–º –¥–ª—è growth_media_ids

### –ú–æ–¥–µ–ª—å Sample –æ–±–Ω–æ–≤–ª–µ–Ω–∞:
```python
# –ù–æ–≤—ã–µ –ø–æ–ª—è
comment_text = models.TextField(blank=True, null=True)
appendix_note_text = models.TextField(blank=True, null=True)
mobilizes_phosphates = models.BooleanField(default=False)
stains_medium = models.BooleanField(default=False)
produces_siderophores = models.BooleanField(default=False)
produces_iuk = models.BooleanField(default=False)
produces_amylase = models.BooleanField(default=False)
iuk_color = models.CharField(max_length=100, blank=True, null=True)
amylase_variant = models.CharField(max_length=100, blank=True, null=True)
growth_media_ids = models.ManyToManyField(GrowthMedium, blank=True)
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ù–∞–ø–∏—Å–∞–Ω—ã —Ç–µ—Å—Ç—ã:
1. **SampleModelTests**:
   - –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—Ä–∞–∑—Ü–∞ —Å –Ω–æ–≤—ã–º–∏ –ø–æ–ª—è–º–∏
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–≤—è–∑–µ–π —Å–æ —Å—Ä–µ–¥–∞–º–∏ —Ä–æ—Å—Ç–∞

2. **GrowthMediumModelTests**:
   - –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ä–µ–¥ —Ä–æ—Å—Ç–∞
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏ –Ω–∞–∑–≤–∞–Ω–∏–π

3. **APITests**:
   - –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—Ä–∞–∑—Ü–∞ —á–µ—Ä–µ–∑ API
   - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ–±—Ä–∞–∑—Ü–∞ —á–µ—Ä–µ–∑ API
   - CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å–æ —Å—Ä–µ–¥–∞–º–∏ —Ä–æ—Å—Ç–∞

4. **SchemaValidationTests**:
   - –í–∞–ª–∏–¥–∞—Ü–∏—è Pydantic —Å—Ö–µ–º
   - –¢–µ—Å—Ç—ã –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏

## üîÑ –ü—Ä–æ—Ü–µ—Å—Å –º–∏–≥—Ä–∞—Ü–∏–∏

### –î–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π:
```bash
# –í –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ backend
cd backend
python3 manage.py migrate

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
python3 manage.py test collection_manager.tests
```

## üìö –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

- –°—Ç–∞—Ä—ã–µ –ø–æ–ª—è `comment_id` –∏ `appendix_note_id` —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã
- –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ –Ω–µ –±—É–¥—É—Ç –ø–æ—Ç–µ—Ä—è–Ω—ã
- API –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∫–∞–∫ —Å—Ç–∞—Ä—ã–µ, —Ç–∞–∫ –∏ –Ω–æ–≤—ã–µ –ø–æ–ª—è
- –§–æ—Ä–º—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –Ω–æ–≤—ã–µ –ø–æ–ª—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Ç–µ–ø–µ—Ä—å –º–æ–≥—É—Ç:
1. **–í–≤–æ–¥–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏** –≤–º–µ—Å—Ç–æ –≤—ã–±–æ—Ä–∞ –∏–∑ —Å–ø–∏—Å–∫–∞
2. **–î–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏** –æ–±—Ä–∞–∑—Ü–æ–≤
3. **–£–∫–∞–∑—ã–≤–∞—Ç—å —Å—Ä–µ–¥—ã —Ä–æ—Å—Ç–∞** —Å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–º –≤—ã–±–æ—Ä–æ–º
4. **–í–≤–æ–¥–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é** –¥–ª—è –ò–£–ö –∏ –∞–º–∏–ª–∞–∑—ã
5. **–£–ø—Ä–∞–≤–ª—è—Ç—å —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–º —Å—Ä–µ–¥ —Ä–æ—Å—Ç–∞** —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! üöÄ
