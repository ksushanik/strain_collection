# Developer Guide - Strain Collection Project

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞
```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
git clone <repository>
cd strain_collection_new

# –ó–∞–ø—É—Å–∫ —Å—Ä–µ–¥—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
make dev-setup    # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ PostgreSQL + pgAdmin
make dev-start    # –ó–∞–ø—É—Å–∫ Django (8000) + React (3000)

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è
make dev-status
```

### –î–æ—Å—Ç—É–ø –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é
- **Frontend**: http://localhost:3000/
- **Backend API**: http://localhost:8000/
- **API Docs**: http://localhost:8000/docs/
- **pgAdmin**: http://localhost:5050/ (admin@admin.com / admin)

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

### Backend (Django)
```
backend/
‚îú‚îÄ‚îÄ strain_tracker_project/     # –û—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ–µ–∫—Ç
‚îú‚îÄ‚îÄ reference_data/            # üìö –°–ø—Ä–∞–≤–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
‚îú‚îÄ‚îÄ strain_management/         # üß¨ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —à—Ç–∞–º–º–∞–º–∏  
‚îú‚îÄ‚îÄ sample_management/         # üß™ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±—Ä–∞–∑—Ü–∞–º–∏
‚îú‚îÄ‚îÄ storage_management/        # üì¶ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º
‚îú‚îÄ‚îÄ audit_logging/            # üìã –ê—É–¥–∏—Ç –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îî‚îÄ‚îÄ collection_manager/       # ‚ö†Ô∏è Legacy (–≤—ã–≤–æ–¥–∏—Ç—Å—è)
```

### API Endpoints
- `/api/reference/` - —Å–ø—Ä–∞–≤–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–∏—Å—Ç–æ—á–Ω–∏–∫–∏, –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è, —Å—Ä–µ–¥—ã)
- `/api/strains/` - —à—Ç–∞–º–º—ã –º–∏–∫—Ä–æ–æ—Ä–≥–∞–Ω–∏–∑–º–æ–≤
- `/api/samples/` - –æ–±—Ä–∞–∑—Ü—ã –∫–æ–ª–ª–µ–∫—Ü–∏–∏
- `/api/storage/` - —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –∏ –±–æ–∫—Å—ã
- `/api/audit/` - –ª–æ–≥–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π

## üîß –ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
```bash
make dev-migrate     # –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
make dev-test        # –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã
make dev-shell       # Django shell
make dev-logs        # –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
```

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
```bash
make backup-create   # –°–æ–∑–¥–∞—Ç—å backup
make backup-restore  # –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å backup
make dev-reset-db    # –°–±—Ä–æ—Å –ë–î (–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ!)
```

## üìã –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å (Stage 1 - 95% –∑–∞–≤–µ—Ä—à–µ–Ω)

### ‚úÖ –ì–æ—Ç–æ–≤–æ
- –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (5 –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π)
- –ü–æ–ª–Ω—ã–µ CRUD API —Å Pydantic –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
- –ú–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- URL –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è
- –û—Å–Ω–æ–≤–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### üîÑ –í —Ä–∞–±–æ—Ç–µ
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è frontend —Å –Ω–æ–≤—ã–º–∏ API
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- –ú–∏–≥—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤

### ‚è≥ –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è
- Django Admin –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
- –û—á–∏—Å—Ç–∫–∞ legacy –∫–æ–¥–∞
- Stage 2: –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã

## üéØ –í–∞–∂–Ω—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è

### –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
- `STAGE1_IMPLEMENTATION_PLAN.md` - –ø–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- `IMPLEMENTATION_CONTEXT.md` - –¥–µ—Ç–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç
- `MCP_CONTEXT.md` - –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è MCP
- `memory-bank/progress.md` - –æ–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- `backend/strain_tracker_project/settings.py` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Django
- `backend/strain_tracker_project/urls.py` - –æ—Å–Ω–æ–≤–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã
- `docker-compose.dev.yml` - —Å—Ä–µ–¥–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### –ú–æ–¥–µ–ª–∏ –∏ API
- `backend/*/models.py` - –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
- `backend/*/api.py` - API endpoints
- `backend/*/urls.py` - –º–∞—Ä—à—Ä—É—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π

## üîç –ü–æ–ª–µ–∑–Ω—ã–µ —Å–æ–≤–µ—Ç—ã

### –û—Ç–ª–∞–¥–∫–∞
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è Django
python manage.py check

# –ü—Ä–æ—Å–º–æ—Ç—Ä –º–∏–≥—Ä–∞—Ü–∏–π
python manage.py showmigrations

# –°–æ–∑–¥–∞–Ω–∏–µ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
python manage.py createsuperuser
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API
```bash
# –ß–µ—Ä–µ–∑ curl
curl http://localhost:8000/api/strains/

# –ß–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä
http://localhost:8000/docs/  # Swagger UI
```

### –†–∞–±–æ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏
- **–ü—Ä–æ–¥–∞–∫—à–Ω –¥–∞–Ω–Ω—ã–µ**: 881 —à—Ç–∞–º–º, 1,796 –æ–±—Ä–∞–∑—Ü–æ–≤
- **–ò–º–ø–æ—Ä—Ç CSV**: `python manage.py import_csv_data`
- **Backup**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —á–µ—Ä–µ–∑ cron

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **Legacy –∫–æ–¥**: `collection_manager` –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –≤—ã–≤–æ–¥–∏—Ç—Å—è
2. **–ú–∏–≥—Ä–∞—Ü–∏–∏**: –≤—Å–µ–≥–¥–∞ —Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞ –∫–æ–ø–∏–∏ –¥–∞–Ω–Ω—ã—Ö
3. **API —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**: —Å—Ç–∞—Ä—ã–µ endpoints —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã
4. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ —Å–µ–∫—Ä–µ—Ç—ã –≤ .env —Ñ–∞–π–ª—ã

## üîó –†–µ—Å—É—Ä—Å—ã

- **–ü—Ä–æ–¥–∞–∫—à–Ω**: https://culturedb.elcity.ru/
- **Django Docs**: https://docs.djangoproject.com/
- **React Docs**: https://react.dev/
- **Pydantic**: https://docs.pydantic.dev/

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –≤–æ–ø—Ä–æ—Å–æ–≤:
1. –ò–∑—É—á–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –≤ `memory-bank/`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —á–µ—Ä–µ–∑ `make dev-logs`
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `MCP_CONTEXT.md` –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã