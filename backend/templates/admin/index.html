{% extends "admin/index.html" %}
{% load i18n static %}

{% block extrahead %}
    {{ block.super }}
    <style>
        .dashboard-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .stat-card {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .stat-number {
            font-size: 2.5em;
            font-weight: bold;
            color: #007cba;
            margin-bottom: 10px;
        }
        .stat-label {
            font-size: 1.1em;
            color: #666;
            margin-bottom: 5px;
        }
        .stat-description {
            font-size: 0.9em;
            color: #999;
        }
        .dashboard-title {
            color: #333;
            border-bottom: 2px solid #007cba;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        .quick-actions {
            background: #fff;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .quick-actions h3 {
            color: #333;
            margin-bottom: 15px;
        }
        .action-links {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }
        .action-link {
            background: linear-gradient(135deg, #1e40af, #1e3a8a);
            color: #ffffff;
            padding: 12px 20px;
            text-decoration: none;
            border-radius: 6px;
            font-size: 0.95em;
            font-weight: 600;
            border: 1px solid #1e3a8a;
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(30, 64, 175, 0.3);
            display: inline-block;
            text-align: center;
            min-width: 140px;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
        }
        .action-link:hover {
            background: linear-gradient(135deg, #1d4ed8, #1e40af);
            color: #ffffff;
            text-decoration: none;
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(30, 64, 175, 0.4);
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.4);
        }
        .action-link:active {
            transform: translateY(0);
            box-shadow: 0 2px 4px rgba(30, 64, 175, 0.3);
            background: linear-gradient(135deg, #1e3a8a, #1e40af);
        }
        .action-link:focus {
            outline: 2px solid #fbbf24;
            outline-offset: 2px;
        }
    </style>
{% endblock %}

{% block content %}
    <h1 class="dashboard-title">{% trans 'Strain Collection Dashboard' %}</h1>
    
    <div class="dashboard-stats">
        <div class="stat-card">
            <div class="stat-number">{{ total_samples }}</div>
            <div class="stat-label">{% trans 'Total Samples' %}</div>
            <div class="stat-description">{% trans 'All samples in collection' %}</div>
        </div>
        
        <div class="stat-card">
            <div class="stat-number">{{ total_strains }}</div>
            <div class="stat-label">{% trans 'Unique Strains' %}</div>
            <div class="stat-description">{% trans 'Different strain types' %}</div>
        </div>
        
        <div class="stat-card">
            <div class="stat-number">{{ identified_samples }}</div>
            <div class="stat-label">{% trans 'Identified Samples' %}</div>
            <div class="stat-description">{% trans 'Samples with identification' %}</div>
        </div>
        
        <div class="stat-card">
            <div class="stat-number">{{ samples_with_photos }}</div>
            <div class="stat-label">{% trans 'Samples with Photos' %}</div>
            <div class="stat-description">{% trans 'Visual documentation' %}</div>
        </div>
        
        <div class="stat-card">
            <div class="stat-number">{{ samples_with_biochemistry }}</div>
            <div class="stat-label">{% trans 'Biochemical Tests' %}</div>
            <div class="stat-description">{% trans 'Samples with biochemistry' %}</div>
        </div>
        
        <div class="stat-card">
            <div class="stat-number">{{ samples_with_genome }}</div>
            <div class="stat-label">{% trans 'Genome Sequenced' %}</div>
            <div class="stat-description">{% trans 'Samples with genome data' %}</div>
        </div>
        
        <div class="stat-card">
            <div class="stat-number">{{ storage_occupancy }}%</div>
            <div class="stat-label">{% trans 'Storage Occupancy' %}</div>
            <div class="stat-description">{{ occupied_cells }}/{{ total_storage_cells }} {% trans 'cells used' %}</div>
        </div>
        
        <div class="stat-card">
            <div class="stat-number">{{ total_locations }}</div>
            <div class="stat-label">{% trans 'Collection Sites' %}</div>
            <div class="stat-description">{% trans 'Different locations' %}</div>
        </div>
    </div>

    <div class="quick-actions">
        <h3>{% trans 'Quick Actions' %}</h3>
        <div class="action-links">
            <a href="{% url 'admin:sample_management_sample_add' %}" class="action-link">
                {% trans 'Add New Sample' %}
            </a>
            <a href="{% url 'admin:sample_management_sample_changelist' %}" class="action-link">
                {% trans 'Browse Samples' %}
            </a>
            <a href="{% url 'admin:strain_management_strain_changelist' %}" class="action-link">
                {% trans 'Manage Strains' %}
            </a>
            <a href="{% url 'admin:storage_management_storage_changelist' %}" class="action-link">
                {% trans 'Storage Management' %}
            </a>
            <a href="{% url 'admin:collection_manager_changelog_changelist' %}" class="action-link">
                {% trans 'View Change Log' %}
            </a>
        </div>
    </div>

    {{ block.super }}
{% endblock %}